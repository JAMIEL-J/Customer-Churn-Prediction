# Customer Churn Prediction with Business Impact Analysis

<div align="center">

![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)
![Scikit-Learn](https://img.shields.io/badge/Scikit--Learn-1.3+-orange.svg)
![Streamlit](https://img.shields.io/badge/Streamlit-1.28+-red.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)

**A decision-focused churn prediction system that optimizes retention strategy using business-aware threshold selection and ROI analysis.**

[Overview](#-overview) ‚Ä¢
[Features](#-key-features) ‚Ä¢
[Installation](#-installation) ‚Ä¢
[Usage](#-usage) ‚Ä¢
[Architecture](#-project-architecture) ‚Ä¢
[Results](#-results)

</div>

---

## üìã Overview

This project extends traditional churn prediction by connecting **machine learning models** to **business decision-making**. Rather than simply predicting which customers will churn, it addresses the question: **"What should we do about it, and what's the expected ROI?"**

### The Problem
- Customer churn directly impacts revenue
- Traditional ML models predict churn but don't specify *who* to contact or *how much* to spend
- Without proper threshold optimization, businesses either overspend on retention or miss at-risk customers

### The Solution
- **Hypothesis-driven feature engineering** based on validated business assumptions
- **Cost-benefit analysis** with business metrics (CLV, retention cost, success rate)
- **Optimal threshold selection** based on **ROI, not accuracy**
- **Segment-specific strategies** for high-value vs. low-value customers
- **Interactive dashboard** for exploring decision trade-offs

---

## ‚ú® Key Features

| Feature | Description |
|---------|-------------|
| üìä **Exploratory Data Analysis** | EDA with 14 business hypotheses validated |
| üîß **Feature Engineering** | 24 hypothesis-driven features across 3 business buckets |
| ü§ñ **Baseline Modeling** | Logistic Regression + Random Forest with interpretable outputs |
| üí∞ **Business Impact Analysis** | Cost matrix, threshold sweep, ROI optimization |
| üë• **Customer Segmentation** | Value-based targeting with segment-specific thresholds |
| üìà **Interactive Dashboard** | Streamlit app for decision support |

---

## üöÄ Installation

### Prerequisites
- Python 3.9 or higher
- pip package manager

### Setup

```bash
# Clone the repository
git clone https://github.com/yourusername/customer-churn-prediction.git
cd customer-churn-prediction

# Create virtual environment (recommended)
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt
```

---

## üí° Usage

### 1. Run the Analysis Notebooks

Execute the notebooks in sequence to build the complete analysis pipeline:

```bash
# Navigate to notebooks directory
cd notebooks

# Run in order:
# 1. 01_eda.ipynb               ‚Üí Exploratory Data Analysis
# 2. 02_feature_engineering.ipynb ‚Üí Feature Engineering
# 3. 03_modeling.ipynb          ‚Üí Model Training
# 4. 04_business_impact.ipynb   ‚Üí Business Analysis
```

### 2. Launch the Dashboard

```bash
# From project root
streamlit run dashboard/app.py
```

The dashboard provides four views:
- **üìä Overview** ‚Äî Executive snapshot of churn impact
- **üéØ Decision Tool** ‚Äî Interactive threshold optimization
- **üë• Segments** ‚Äî Customer targeting and prioritization
- **üîç Explainability** ‚Äî Feature importance and model insights

> **Note for Streamlit Cloud deployment**: The dashboard loads pre-computed models and reports generated by the notebooks. Ensure all notebooks are run and outputs are committed before deploying.

---

## üìÅ Project Architecture

```
customer-churn-prediction/
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ raw/                    # Original dataset
‚îÇ   ‚îî‚îÄ‚îÄ processed/              # Engineered features
‚îÇ
‚îú‚îÄ‚îÄ notebooks/
‚îÇ   ‚îú‚îÄ‚îÄ 01_eda.ipynb            # Exploratory Data Analysis
‚îÇ   ‚îú‚îÄ‚îÄ 02_feature_engineering.ipynb  # Feature Engineering
‚îÇ   ‚îú‚îÄ‚îÄ 03_modeling.ipynb       # Model Training & Evaluation
‚îÇ   ‚îî‚îÄ‚îÄ 04_business_impact.ipynb      # ROI & Threshold Analysis
‚îÇ
‚îú‚îÄ‚îÄ models/                     # Trained model artifacts
‚îÇ   ‚îú‚îÄ‚îÄ logistic_regression.pkl
‚îÇ   ‚îú‚îÄ‚îÄ random_forest.pkl
‚îÇ   ‚îú‚îÄ‚îÄ scaler.pkl
‚îÇ   ‚îî‚îÄ‚îÄ feature_cols.txt
‚îÇ
‚îú‚îÄ‚îÄ business/                   # Business logic modules
‚îÇ   ‚îú‚îÄ‚îÄ cost_matrix.py          # CLV & cost calculations
‚îÇ   ‚îú‚îÄ‚îÄ threshold_optimization.py  # Threshold sweep logic
‚îÇ   ‚îú‚îÄ‚îÄ roi_analysis.py         # ROI calculations
‚îÇ   ‚îî‚îÄ‚îÄ segment_strategy.py     # Segmentation strategies
‚îÇ
‚îú‚îÄ‚îÄ dashboard/                  # Streamlit application
‚îÇ   ‚îú‚îÄ‚îÄ app.py                  # Main entry point
‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îÇ       ‚îú‚îÄ‚îÄ Overview.py
‚îÇ       ‚îú‚îÄ‚îÄ Decision_Tool.py
‚îÇ       ‚îú‚îÄ‚îÄ Segments.py
‚îÇ       ‚îî‚îÄ‚îÄ Explainability.py
‚îÇ
‚îú‚îÄ‚îÄ reports/                    # Generated analysis outputs
‚îÇ   ‚îú‚îÄ‚îÄ business_recommendations.csv
‚îÇ   ‚îú‚îÄ‚îÄ lr_threshold_sweep.csv
‚îÇ   ‚îî‚îÄ‚îÄ rf_threshold_sweep.csv
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

---

## üìä Results

### Model Performance

| Model | Optimal Threshold | Recall | Precision | Net ROI |
|-------|-------------------|--------|-----------|---------|
| Logistic Regression | 0.35 | 94.65% | 54.71% | $105,204 |
| Random Forest | 0.20 | 96.52% | 53.24% | $106,374 |

### Key Findings

- **Recommended Model**: Random Forest at threshold 0.20
- **Customers to Contact**: ~678 (out of 1,409 in test set)
- **Revenue Saved**: $140,274
- **Retention Cost**: $33,900
- **Net ROI**: $106,374

### Segment Strategy

Using segment-specific thresholds instead of a single threshold can provide additional value by optimizing interventions for high-value vs. low-value customers.

---

## üî¨ Methodology

### Feature Engineering Buckets

1. **Tenure & Contract Structure**
   - Tenure buckets (new, established, loyal, long-term)
   - Contract type indicators
   - Month-to-month risk flags

2. **Pricing Pressure**
   - Average monthly charge
   - Charge-to-tenure ratio
   - High-charge flags

3. **Service Dependency**
   - Add-on service counts
   - Service coverage scores
   - Internet service type indicators

### Financial Assumptions

> ‚ö†Ô∏è **Disclaimer**: The financial parameters below are illustrative estimates used for demonstration purposes. In a production environment, these values should be validated with actual business data and stakeholder input.

| Parameter | Value | Rationale |
|-----------|-------|-----------|
| CLV | ~$1,554 | Avg monthly charge ($64.76) √ó 24 months |
| Retention Cost | $50 | Estimated cost per retention intervention |
| Success Rate | 25% | Assumed probability of saving an at-risk customer |

---

## üõ†Ô∏è Tech Stack

- **Data Processing**: pandas, numpy
- **Machine Learning**: scikit-learn
- **Visualization**: matplotlib, seaborn
- **Dashboard**: Streamlit
- **Model Persistence**: joblib

---

## üì¶ Deployment Note

This project is deployed as a Streamlit-based decision-support prototype to demonstrate how churn predictions translate into retention actions and quantified business impact. It is not a production ML system and does not include live data ingestion, automated retraining, or real-time monitoring.

---

## üìú License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## üìß Contact

For questions or feedback, please open an issue in this repository.
